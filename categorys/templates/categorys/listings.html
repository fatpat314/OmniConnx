{% extends "base.html" %}

<!-- listings.html -->
<!-- just an index for listings of that SubCategory -->



{% block content %}
<html>
  <body>
<!-- <div class="mini-logo">

</div> -->
<!-- You can change this -->
{% if user.is_authenticated %}
    <h3>Welcome {{user.username}}!</h3>
{% endif %}
<div class="">
    <img class="rounded-circle account-img" src="{{ user.profile.image.url }}">
    {% if user.is_authenticated %}
        <a href="{% url 'post-create' %}" class="btn btn-success ml-4">New Post</a>
    {% endif %}
    <!-- <form class="post-box" method="POST"> -->
        <!-- Don't change this -->
        {% csrf_token %}
        <!-- Don't change this -->
        {{ form.as_p }}
        <!-- Don't change this -->
        <!-- <input type='submit' value="Post"> -->
</div>

  <!-- <a href="{% url 'index_all' %}"></a> -->
<div class="">
    {% if listings %}
    <div class="">
        <!-- Don't change this -->
        {% for listing in listings %}
        <li class="list-group-item">
            {% include "categorys/partials/listing_card.html" %}
        </li>
        {% endfor %}
    </div>
    {% else %}
        <div class="alert alert-primary" role="alert">No pages to display.</div>
    {% endif %}
        </div>
    </div>
</div>



<div class="sidenav">
  {% if user.is_authenticated %}
    <a class="navbar-brand" href="/index">OmniConnx</a>
   {% else %}
       <a class="navbar-brand" href="/">OmniConnx</a>
  {% endif %}
  {% for category in categories %}
  <div class="sidebar dropdown">
      <!-- You can change this -->
          <h5 class="title_size dropbtn">{{ category }}</h5>
      <div class="card-body border-dark dropdown-content">
        <p class="card-text text-dark">
            {% for sub_cat in category.children.all %}
                    <a href="{% url 'listing' parent_or_child='child' pk=sub_cat.id %}"> {{ sub_cat }} </a>
            <hr>
            <!-- Don't change this -->
            {% endfor %}
      </div>
  </div>
  <!-- Don't change this -->
  {% endfor %}
</div>




<!-- Help!!! I don't know CSS -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  <!-- Help!!! I don't know CSS -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>

    body, html {
        height: 100%;
        background-image: radial-gradient(white, #cce5ff, #99caff, #007bff) !important;
      }

      body {

      font-family: "Lato", sans-serif;
    }

    div.card {

      position: relative right;

    }

    li.list-group-item{
      position: inherit;
      margin-bottom: 4rem;
    }

    .list-group-item {
      margin-left: 25%;
      margin-top: 2rem;
      position: inherit;
    }

    .rounded-circle {
      margin: 1rem;
      margin-top: 3rem;;
    }

    .text-muted {
      padding-left:1rem;
    }

  .post-box {
    position: inherit;
    color: white;
    border: 2px solid black;
    margin-top: 20px;
    margin-left: 200px;
    margin-right: 20px;
    padding: 20px;
  }

  .ml-4, .mx-4 {
      margin-left: -4.5rem !important;
      color: #fff;


      background-image: #2fa4e7 !important;
      /* border-color: #2fa4e7; */
  }

  </style>

  <style>
  body {
    font-family: "Lato", sans-serif;
    /* overflow: auto; */
  }

  .sidenav {
    height: 50%; /* Full-height: remove this if you want "auto" height */
    width: 100px;
    position: fixed;
    top: 35%;
    left: 0;
    background: #cce5ff;
    border-radius: 0px 10% 10% 0px;
  }



  .sidenav a {
    padding: 6px 8px 6px 16px;
    text-decoration: none;
    font-size: 12px;
    color: #2196F3;
    display: block;
  }

  .sidenav a:hover {
    color: #064579;
  }


  main {
    margin-left: 200px; /*Same width as the sidebar + left position in px */
    font-size: 28px; /* Increased text to enable scrolling */
    padding: 0px 0px;
    position: inherit;
  }

  div.card {
    position: inherit;
  }

   .main-alt {
    margin-left: 110px; /* Same width as the sidebar + left position in px */
    font-size: 12px; /* Increased text to enable scrolling */
    padding: 0px 0px;
    position: inherit;

  }  */

  .welcome {
      margin-left: 20px;
  }

  .text_size {
      font-size: 12px;
  }

  .title_size {
      font-size: 14px;
  }

  .timeline {
      margin-left: -300px;
      margin-right: 100px;
  }

  .dropdown {
    position: relative;
    display: inline-block;
  }

  .dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    padding: 12px 16px;
    z-index: 1;
  }

  .dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
  }

  .dropdown-content a:hover {background-color: #f1f1f1}

  .dropdown:hover .dropdown-content {
    display: block;
  }

  .dropdown:hover .dropbtn {
    background-color: #2196F3;
  }

  .dropdown:hover .dropdown-content {
    display: block;
  }

  .dropbtn {
    background-color: white ;
    color: #2196F3;
    padding: 16px;
    font-size: 16px;
    border: none;
    cursor: pointer;
    width: 100%
  }


  @media screen and (max-height: 450px) {
    .sidenav {padding-top: 15px;}
    .sidenav a {font-size: 18px;}
  }

  </style>

  <body>

  <div class="sidenav">
      {% if user.is_authenticated %}
        <a class="navbar-brand" href="/index">OmniConnx</a>
       {% else %}
           <a class="navbar-brand" href="/">OmniConnx</a>
      {% endif %}
      {% for category in categories %}
      <div class="sidebar dropdown">
          <!-- You can change this -->
              <h5 class="title_size dropbtn">{{ category }}</h5>
          <div class="card-body border-dark dropdown-content">
            <p class="card-text text-dark">
                {% for sub_cat in category.children.all %}
                        <a href="{% url 'listing' parent_or_child='child' pk=sub_cat.id %}"> {{ sub_cat }} </a>
                <hr>
                <!-- Don't change this -->
                {% endfor %}
          </div>
      </div>
      <!-- Don't change this -->
      {% endfor %}
  </div>


{% endblock %}
